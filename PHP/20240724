2024/07/24

コメントの更新・削除のAjax化

まずは、実装を言語化する

1. コントローラーを編集して、json形式でデータを送信するようにする
2. フォームを編集してjson形式でデータを送信するように編集する
3. jsファイルを作成する

現時点でわかったことは、パーシャルファイルにはコメント作成のフォームは記載されていない。

あくまでもコメントの表示だけされている

掲示板詳細ページにてforeachを使用してコメントを表示している

foreachの中に@includeを使用することで解決

まず、コントローラーの処理は書けた。

実装したい処理は以下の通りになる。

showのコメント作成ボタンがクリックされた時にcomment.jsファイルを発動させ、コントローラーに処理を渡す

コメント作成のフォームをajax仕様にしないといけないな。

formにクラスを付与する

とりあえず、以下の順番でjsファイルを作成していく

1. jsファイル自体の作動確認を行う
    1. ページをリロードしたタイミングでconsole.logを発火させる
2. フォームが送信されたタイミングでconsole.logを発火させる
3. 今は2まで終わっている
4. jsファイルにてajaxの処理を書いてコントローラーに適切なリクエストを送るようにする
